<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="blocks/validador/db" VERSION="2024010101" COMMENT="Tabla con un registro por validación y contexto">
    <TABLES>
        <TABLE NAME="block_validador_results" COMMENT="Resultados de las validaciones">
            <FIELDS>
                <FIELD NAME="id" TYPE="int" LENGTH="10" NOTNULL="true" SEQUENCE="true"/>
                <FIELD NAME="contextid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0"/>
                <FIELD NAME="courseid" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0"/> <!-- Nuevo campo para el ID del curso -->
                <FIELD NAME="validationname" TYPE="char" LENGTH="255" NOTNULL="true"/>
                <FIELD NAME="passed" TYPE="int" LENGTH="1" NOTNULL="true" DEFAULT="0"/>
                <FIELD NAME="timecreated" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0"/>
                <FIELD NAME="timemodified" TYPE="int" LENGTH="10" NOTNULL="true" DEFAULT="0"/>
            </FIELDS>
            <KEYS>
                <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
                <KEY NAME="context_validation_uniq" TYPE="unique" FIELDS="contextid,validationname,courseid"/> <!-- Actualizar clave única -->
            </KEYS>
        </TABLE>
    </TABLES>
</XMLDB>